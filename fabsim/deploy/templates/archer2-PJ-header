#!/bin/bash
#SBATCH --nodes $PJ_size

## task per node
#SBATCH --tasks-per-node=$corespernode

## wall time in format MINUTES:SECONDS
#SBATCH --time=$job_wall_time

## grant
#SBATCH --account=$budget

## stdout file
#SBATCH --output=$job_results/JobID-%j.output

## stderr file
#SBATCH --error=$job_results/JobID-%j.error

## Set the initial working directory (prevents the home directory error)
#SBATCH --chdir=$job_results

#SBATCH --partition=$partition_name
#SBATCH --qos=$qos_name

# Environment setup summary
if [[ "$venv" == "true" ]]; then
  echo "[INFO] Loading virtual environment..."
  source $virtual_env_path/bin/activate
else
  echo "[INFO] Loading cray-python module..."
  module load cray-python
fi

## Execute QCG-PilotJob
$run_QCG_PilotJob
